%div{:class=>"container"}
 %div{:class=>"projectPanel"}
  %div{:class=>"tabbed_area"}
   %ul{:class=>"tabs"}
    %li=link_to "Pre-conditions",use_case_details_path(:id=>@use_case.id),{:title=>"Pre-conditions"}
    %li=link_to "Post Conditions",post_conditions_url(:id=>@use_case.id),{:title=>"Post Conditions"}
    %li=link_to "Success Conditions",success_conditions_url(:id=>@use_case.id),:title=>"Success Conditions"
    %li=link_to "Triggers",triggers_url(:id=>@use_case.id),:title=>"Triggers"
    %li=link_to "Actors",actors_url(:id=>@use_case.id),{:title=>"Actors"}
    %li=link_to "Business Rules",business_rules_url(:id=>@use_case.id),{:title=>"Business Rules"}
    %li=link_to "Messages",message_url(:id=>@use_case.id),{:title=>"Messages"}
    %li=link_to "Basic Flow",basic_flow_url(:id=>@use_case.id),{:class=>"active",:title=>"Basic Flow"}
   %span{:class=>"line"}
   %div{:class=>"dwnContainer"}
    %div{:id=>"project",:align=>"middle"}
    %b="Use Case Details"
    %br
    %div{:id=>"add_basic_flow"}
     -if @user.privilige!="Read" and @user.privilige!="Approve"
      =text_area_tag "use_basic_action","<< Add an user action",:size=>"50",:style=>"text-align:right"
      =text_area_tag "use_basic_response","<< Add an user response",:size=>"50",:style=>"text-align:right",:tabindex=>"0"
      %br
      %br
      %div{:id=>"add_use_case_detail",:align=>"middle"}
       -if !@basic_flows.nil?
        -i=1
        -@basic_flows.each do |basic|
         -form_tag edit_basic_flow_url(basic.id) do
          ="Step #{i}"
          =text_area_tag "basic_action_#{basic.id}",basic.action,:readonly=>true
          =text_area_tag "basic_response_#{basic.id}",basic.response,:readonly=>true
          %div{:id=>"show_save_cancel_#{basic.id}",:style => "display:none;"}
           =submit_tag "Save"
           =link_to "Cancel",'#',:id=>"add_save_cancel_hide_#{basic.id}"
          =link_to "Edit",'#',:id=>"add_save_cancel_#{basic.id}"
          -i=i+1 
          -alt_count=alter_count(basic)
          =link_to "Alt(#{alt_count})",alternate_flow_url(:id=>basic.id)
          =link_to "Delete",delete_basic_flow_url(basic.id)
          %br
          %br
     -else
      =text_area_tag "use_basic_action","<< Add an user action",:size=>"50",:style=>"text-align:right",:disabled=>true
      =text_area_tag "use_basic_response","<< Add an user response",:size=>"50",:style=>"text-align:right",:disabled=>true
      %br
      %br
      %div{:id=>"add_use_case_detail",:align=>"middle"}
       -if !@basic_flows.nil?
        -@basic_flows.each do |basic|
         -form_tag edit_basic_flow_url(basic.id) do
          =text_area_tag "basic_action_#{basic.id}",basic.action,:readonly=>true
          =text_area_tag "basic_response_#{basic.id}",basic.response,:readonly=>true
          %div{:id=>"show_save_cancel_#{basic.id}",:style => "display:none;"}
           =submit_tag "Save",:disabled=>true
           =link_to "Cancel",basic_flow_url(:id=>session[:use_case_id])
          =link_to "Edit",'#',:href=>"#" 
          -alt_count=alter_count(basic)
          =link_to "Alt(#{alt_count})",'',:href=>"#"
          =link_to "Delete",delete_basic_flow_url(basic.id),:href=>"#"
         %br
         %br
    %hr{:style=>"width:400px;color:green;"}
    =link_to "<< Back to use case list",use_cases_path
       